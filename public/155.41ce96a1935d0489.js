"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[155],{9155:(j,h,r)=>{r.r(h),r.d(h,{BookViewComponent:()=>v,BooksListComponent:()=>C,BooksModule:()=>q});var a=r(6814),m=r(4089),Z=r(5619),u=r(8180),t=r(4946),y=r(1309),B=r(9862);let g=(()=>{class e{constructor(o){this.http=o,this.API_URL=y.N.API_URL}getBooks(){return this.http.get(`${this.API_URL}/book`)}getBookByIds(o){return this.http.get(`${this.API_URL}/book/ids/${o}`)}getBookById(o){return this.http.get(`${this.API_URL}/book/id/${o}`)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(B.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var p=r(8211),b=r(7492),f=r(9229),k=r(1076);let v=(()=>{class e{constructor(o,i,s,l,d,M){this.booksService=o,this.cartLocalService=i,this.cartHttpService=s,this.route=l,this.router=d,this.toastr=M,this.isAuth$=new Z.X(void 0)}ngOnInit(){this.route.params.pipe((0,u.q)(1)).subscribe(o=>{o.id&&(this.bookId=o.id,this.booksService.getBookById(this.bookId).pipe((0,u.q)(1)).subscribe(({result:i})=>{i&&(this.book=i)}))})}isFavorite(o){return this.cartLocalService.isFavorite(o)}addBookToCart(o){let i=this.isFavorite(o);!1===i?(this.toastr.success("Add to cart succesfully","201"),i=!0,this.cartLocalService.setBookCart(o)):(this.toastr.success("Remove to cart succesfully","201"),i=!1,this.cartLocalService.deleteBookCart(o),this.cartHttpService.deleteItemCart(o))}buyNow(){this.cartLocalService.emptyBookCart(),this.cartLocalService.setBookCart(this.bookId),this.cartHttpService.emptyBookHttpCart(),this.router.navigateByUrl("/app/books/cart")}buyCart(){this.router.navigateByUrl("/app/books/cart")}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(g),t.Y36(p.K),t.Y36(b.R),t.Y36(m.gz),t.Y36(m.F0),t.Y36(f._W))},e.\u0275cmp=t.Xpm({type:e,selectors:[["rb-book-view"]],decls:72,vars:21,consts:[["subtitle","Books",3,"title"],[1,"container-fluid"],[1,"card","shadow-none","border","my-3"],[1,"card-body","p-4"],[1,"row"],[1,"col-lg-6"],[1,"image-container"],["alt","",1,"image",3,"src"],[1,"d-flex","align-items-center","gap-2","mb-2"],["type","button",1,"btn","mb-1","btn-light-primary","btn-circle","btn-md","d-inline-flex","align-items-center","justify-content-center"],["title","To Cart",1,"icon-cart","ti","font","fs-8","text-primary",3,"ngClass","click"],[1,"badge","text-bg-primary","fs-2","fw-semibold","rounded-3"],[1,"fs-2"],[1,"fw-semibold"],[1,"mb-3"],[1,"d-flex","align-items-center","border-bottom","mb-4","pb-4","justify-content-between"],[1,"d-flex","align-items-center","pb-4","border-bottom","justify-content-between"],[1,"list-unstyled","d-flex","align-items-center","mb-0"],[1,"mb-0","me-1","fs-4","fw-semibold"],[1,"me-1"],[1,"ti","ti-star","text-warning","fs-4"],[1,""],[1,"ms-2"],[1,"d-sm-flex","align-items-center","gap-3","pt-8","mb-7","mt-2"],[1,"btn","d-block","btn-primary","fw-semibold","px-5","py-3","mb-2","mb-sm-0",3,"click"],[1,"btn","d-block","fw-semibold","btn-outline-primary","px-7","py-3",3,"click"],[1,"mb-0"],["id","pills-tab","role","tablist",1,"nav","nav-pills","user-profile-tab","border-bottom"],["role","presentation",1,"nav-item"],["id","pills-description-tab","data-bs-toggle","pill","data-bs-target","#pills-description","type","button","role","tab","aria-controls","pills-description","aria-selected","true",1,"nav-link","position-relative","rounded-0","active","d-flex","align-items-center","justify-content-center","bg-transparent","fs-3","py-6"],["id","pills-tabContent",1,"tab-content","pt-4"],["id","pills-description","role","tabpanel","aria-labelledby","pills-description-tab","tabindex","0",1,"tab-pane","fade","show","active"],[1,"fs-5","fw-semibold","mb-7"],[1,"mb-7"]],template:function(o,i){1&o&&(t._UZ(0,"rb-sub-header",0),t.ALo(1,"titlecase"),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),t._UZ(8,"img",7),t.qZA()(),t.TgZ(9,"div",5)(10,"div")(11,"div",8)(12,"button",9)(13,"i",10),t.NdJ("click",function(){return i.addBookToCart(i.book._id)}),t.qZA()(),t.TgZ(14,"span",11),t._uU(15,"In Stock"),t.qZA(),t.TgZ(16,"span",12),t._uU(17),t.ALo(18,"uppercase"),t.qZA()(),t.TgZ(19,"h4",13),t._uU(20),t.ALo(21,"titlecase"),t.qZA(),t.TgZ(22,"p",14),t._uU(23),t.ALo(24,"titlecase"),t.qZA(),t.TgZ(25,"div",15)(26,"h4",13),t._uU(27),t.ALo(28,"currency"),t.qZA()(),t.TgZ(29,"div",16)(30,"ul",17)(31,"h6",18),t._uU(32,"Calification:"),t.qZA(),t.TgZ(33,"li")(34,"a",19),t._UZ(35,"i",20),t.qZA()(),t.TgZ(36,"li")(37,"a",19),t._UZ(38,"i",20),t.qZA()(),t.TgZ(39,"li")(40,"a",19),t._UZ(41,"i",20),t.qZA()(),t.TgZ(42,"li")(43,"a",19),t._UZ(44,"i",20),t.qZA()(),t.TgZ(45,"li")(46,"a",21),t._UZ(47,"i",20),t.qZA()(),t.TgZ(48,"a",22),t._uU(49,"(236 reviews)"),t.qZA()()(),t.TgZ(50,"div",23)(51,"button",24),t.NdJ("click",function(){return i.buyNow()}),t._uU(52," Buy Now "),t.qZA(),t.TgZ(53,"button",25),t.NdJ("click",function(){return i.buyCart()}),t._uU(54," Buy Cart "),t.qZA()(),t.TgZ(55,"p",26),t._uU(56,"Dispatched instantly"),t.qZA(),t.TgZ(57,"a"),t._uU(58,"Why the longer time for delivery? Because it is a summarized E-Book"),t.qZA()()()()()(),t.TgZ(59,"div",2)(60,"div",3)(61,"ul",27)(62,"li",28)(63,"button",29),t._uU(64," Description "),t.qZA()()(),t.TgZ(65,"div",30)(66,"div",31)(67,"h5",32),t._uU(68),t.ALo(69,"titlecase"),t.qZA(),t.TgZ(70,"p",33),t._uU(71),t.qZA()()()()()()),2&o&&(t.Q6J("title",i.book?t.lcZ(1,9,i.book.name):""),t.xp6(8),t.s9C("src",i.book.image,t.LSH),t.xp6(5),t.Q6J("ngClass",i.isFavorite(i.book._id)?"ti-basket-filled":"ti-shopping-cart"),t.xp6(4),t.Oqu(t.lcZ(18,11,i.book.subject.name)),t.xp6(3),t.Oqu(t.lcZ(21,13,i.book.name)),t.xp6(3),t.hij("By ",t.lcZ(24,15,i.book.autor.name),""),t.xp6(4),t.hij(" ",t.lcZ(28,17,i.book.price)," "),t.xp6(41),t.hij(" ",t.lcZ(69,19,i.book.name)," "),t.xp6(3),t.hij(" ",i.book.description," "))},dependencies:[a.mk,k.$,a.gd,a.rS,a.H9],styles:[".image-container[_ngcontent-%COMP%]{max-height:648px;min-width:150px;border:1px solid var(--light-gray-color);display:flex;justify-content:center;align-items:center;border-radius:20px;padding:1rem}.image-container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{border-radius:10px;max-width:250px;max-height:450px;object-fit:cover}.icon-cart[_ngcontent-%COMP%]{cursor:pointer;justify-self:end}"]}),e})();var c=r(95),_=r(2667);let x=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["rb-card-nothing"]],decls:1,vars:0,consts:[[1,"card-nothing"]],template:function(o,i){1&o&&t._UZ(0,"div",0)},styles:[".card-nothing[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;max-width:300px;min-width:180px;margin:0 auto;border:1px solid var(red)!important;background:var(--background-color);box-shadow:0 0 20px 5px #adadad66;border-radius:8px;overflow:hidden;cursor:pointer;z-index:1}"]}),e})();function T(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"rb-card-book",11),t.NdJ("buttonEmitter",function(){const l=t.CHM(o).$implicit,d=t.oxw(2);return t.KtG(d.addBookToCart(l._id))}),t.qZA()}if(2&e){const o=n.$implicit,i=t.oxw(2);t.Q6J("book",o)("icon",i.isFavorite(o._id)?"basket-filled":"shopping-cart")("url","/app/books/id/"+o._id)}}function A(e,n){if(1&e&&(t.TgZ(0,"div",9),t.YNc(1,T,1,3,"rb-card-book",10),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",o.books)}}function L(e,n){1&e&&t._UZ(0,"rb-card-nothing")}const w=function(){return[0,1,2,3,4,5,6,7,0,1,2,3]};function F(e,n){1&e&&(t.TgZ(0,"div",9),t.YNc(1,L,1,0,"rb-card-nothing",12),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",t.DdM(1,w)))}let C=(()=>{class e{constructor(o,i,s,l,d){this.booksService=o,this.cartLocalService=i,this.cartHttpService=s,this.fb=l,this.toastr=d,this.searchForm=this.fb.group({searchTerm:[""]})}ngOnInit(){this.booksService.getBooks().pipe((0,u.q)(1)).subscribe(o=>{this.books=o.result?.reverse(),this.allBooks=o.result})}isFavorite(o){return this.cartLocalService.isFavorite(o)}addBookToCart(o){let i=this.isFavorite(o);!1===i?(this.toastr.success("Add to cart succesfully","201"),i=!0,this.cartLocalService.setBookCart(o)):(this.toastr.success("Remove to cart succesfully","201"),i=!1,this.cartLocalService.deleteBookCart(o),this.cartHttpService.deleteItemCart(o))}search(){const o=this.searchForm.get("searchTerm")?.value;this.books=o?this.books?.filter(i=>i.name.toLowerCase().includes(o.toLowerCase())):this.allBooks,this.books?.length||(this.toastr.warning("Book not found","404"),this.books=this.allBooks)}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(g),t.Y36(p.K),t.Y36(b.R),t.Y36(c.qu),t.Y36(f._W))},e.\u0275cmp=t.Xpm({type:e,selectors:[["rb-books-list"]],decls:10,vars:3,consts:[[1,"search"],[1,"navbar","bg-primary"],[1,"container-fluid","d-flex","flex-nowrap","justify-content-between","align-items-center"],[1,"position-relative","ms-6",3,"formGroup","keydown.enter"],["type","text","id","text-srh","placeholder","Search Product","formControlName","searchTerm",1,"form-control","search-chat","py-2","ps-5","bg-white"],[1,"ti","ti-search","position-absolute","top-50","start-0","translate-middle-y","fs-6","text-dark","ms-3",3,"click"],[1,"container-fluid"],["class","list-container",4,"ngIf","ngIfElse"],["preloader",""],[1,"list-container"],[3,"book","icon","url","buttonEmitter",4,"ngFor","ngForOf"],[3,"book","icon","url","buttonEmitter"],[4,"ngFor","ngForOf"]],template:function(o,i){if(1&o&&(t.TgZ(0,"section",0)(1,"nav",1)(2,"div",2)(3,"form",3),t.NdJ("keydown.enter",function(){return i.search()}),t._UZ(4,"input",4),t.TgZ(5,"i",5),t.NdJ("click",function(){return i.search()}),t.qZA()()()()(),t.TgZ(6,"div",6),t.YNc(7,A,2,1,"div",7),t.YNc(8,F,2,2,"ng-template",null,8,t.W1O),t.qZA()),2&o){const s=t.MAs(9);t.xp6(3),t.Q6J("formGroup",i.searchForm),t.xp6(4),t.Q6J("ngIf",i.books)("ngIfElse",s)}},dependencies:[a.sg,a.O5,_.b,x,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u],styles:[".container-fluid[_ngcontent-%COMP%]{padding:0 .5rem}section.search[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{width:100%!important;min-width:250px;margin-top:1rem;height:80px}"]}),e})();var S=r(8243);function U(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"rb-card-book",6),t.NdJ("buttonEmitter",function(){const l=t.CHM(o).$implicit,d=t.oxw(2);return t.KtG(d.addBookToCart(l._id))}),t.qZA()}if(2&e){const o=n.$implicit,i=t.oxw(2);t.Q6J("book",o)("icon",i.isFavorite(o._id)?"basket-filled":"shopping-cart")("url","/app/books/id/"+o._id)}}function I(e,n){if(1&e&&(t.ynx(0),t.TgZ(1,"div",3)(2,"div",4),t.YNc(3,U,1,3,"rb-card-book",5),t.ALo(4,"async"),t.qZA()(),t.BQk()),2&e){const o=t.oxw();t.xp6(3),t.Q6J("ngForOf",t.lcZ(4,1,o.cartItems$))}}function N(e,n){1&e&&t._UZ(0,"rb-nothing")}let O=(()=>{class e{constructor(o,i){this.cartHttpService=o,this.cartLocalService=i,this.checkout={url:"/app/checkout",title:"Checkout"}}ngOnInit(){this.cartHttpService.initCartByIds().subscribe(),this.cartItems$=this.cartHttpService.cartHttp$}isFavorite(o){return this.cartLocalService.isFavorite(o)}addBookToCart(o){let i=this.isFavorite(o);!1===i?(i=!0,this.cartLocalService.setBookCart(o)):(i=!1,this.cartLocalService.deleteBookCart(o),this.cartHttpService.deleteItemCart(o))}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(b.R),t.Y36(p.K))},e.\u0275cmp=t.Xpm({type:e,selectors:[["rb-cart"]],decls:5,vars:5,consts:[["title","Cart","subtitle","Books",3,"button"],[4,"ngIf","ngIfElse"],["nothing",""],[1,"container-fluid"],[1,"list-container"],[3,"book","icon","url","buttonEmitter",4,"ngFor","ngForOf"],[3,"book","icon","url","buttonEmitter"]],template:function(o,i){if(1&o&&(t._UZ(0,"rb-sub-header",0),t.YNc(1,I,5,3,"ng-container",1),t.ALo(2,"async"),t.YNc(3,N,1,0,"ng-template",null,2,t.W1O)),2&o){const s=t.MAs(4);t.Q6J("button",i.checkout),t.xp6(1),t.Q6J("ngIf",t.lcZ(2,3,i.cartItems$))("ngIfElse",s)}},dependencies:[a.sg,a.O5,_.b,S.v,k.$,a.Ov],encapsulation:2}),e})();var J=r(7559);const Y=[{path:"",component:C},{path:"id/:id",component:v},{path:"cart",component:O}];let q=(()=>{class e{constructor(o){o.initCartLocalStorage()}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(p.K))},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[a.ez,m.Bz.forChild(Y),J.K,c.UX]}),e})()}}]);